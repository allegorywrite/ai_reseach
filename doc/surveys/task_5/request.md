# ドローンを対象としたCBF/MPCの実機実装に関するサーベイ

## 背景

複数UAVによる協調的visual-inertial SLAMシステムにおいて、Consensus-Based Control Barrier Function (CCBF)を用いた視野錐台交差制約付きMPC問題の研究を進めています。これまでの理論研究では、ドローンの制御入力を以下のように定義してきました：

$$u_i = [F_i, M_{i,x}, M_{i,y}, M_{i,z}]^T$$

ここで、$F_i$は合計推力、$M_{i,x}$、$M_{i,y}$、$M_{i,z}$はロール、ピッチ、ヨー軸周りのモーメントです。

しかし、実機への実装を見据えると、このように推力とモーメントを直接入力する方法はドローンを不安定化させる可能性があり、そもそもモーメント入力を受け入れる実験プラットフォームは一般的ではありません。近年は多項式軌道表現による全状態（位置、速度、加速度）の同時入力が一般的ですが、MPCやLQRなどの手法との親和性については検討が必要です。

## サーベイ内容

以下の点について、最新の研究成果や実装例をサーベイしてください：

1. **実機実験を行っているCBF/MPC研究の制御入力設計**
   - 実機ドローンを用いたCBF研究における制御入力の設計方法
   - 実機ドローンを用いたMPC研究における制御入力の設計方法
   - 階層的制御構造（高レベル制御と低レベル制御の分離）の実装例

2. **制御入力の種類と実装方法**
   - 直接的な制御入力（推力、モーメント）の実装例と課題
   - 間接的な制御入力（位置、速度、加速度の参照値）の実装例と利点
   - 多項式軌道表現とMPC/LQRの統合方法

3. **実験プラットフォームと制御フレームワーク**
   - 一般的なドローン実験プラットフォーム（PX4, ArduPilot, DJI SDKなど）の制御インターフェース
   - 各プラットフォームで利用可能な制御入力の種類と制約
   - 研究用ドローンプラットフォームにおけるCBF/MPCの実装例

4. **実機実装における課題と解決策**
   - 理論と実践のギャップ（モデル誤差、遅延、計算制約など）
   - 安全性確保のための追加的な措置（フェイルセーフ、バックアップ制御器など）
   - 計算効率とリアルタイム実装の工夫

## 期待される成果

このサーベイを通じて、理論研究で設計したCCBF制約付きMPC問題を実機ドローンに実装するための実践的な方法を理解したいと考えています。特に、以下の点について明らかにしたいと思います：

1. 実機ドローンの制御において、どのような制御入力設計が一般的で効果的か
2. 理論的に設計したCBF/MPC制御器を実機に実装する際の変換方法や考慮事項
3. 多項式軌道表現とMPC/LQRを効果的に統合する方法
4. 実機実装における計算効率とリアルタイム性の確保方法

